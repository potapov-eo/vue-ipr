(function(){var e={6700:function(e,t,a){var s={"./af":9953,"./af.js":9953,"./ar":6113,"./ar-dz":5432,"./ar-dz.js":5432,"./ar-kw":7749,"./ar-kw.js":7749,"./ar-ly":118,"./ar-ly.js":118,"./ar-ma":5144,"./ar-ma.js":5144,"./ar-sa":7807,"./ar-sa.js":7807,"./ar-tn":8817,"./ar-tn.js":8817,"./ar.js":6113,"./az":7938,"./az.js":7938,"./be":5328,"./be.js":5328,"./bg":7852,"./bg.js":7852,"./bm":9310,"./bm.js":9310,"./bn":1135,"./bn-bd":3934,"./bn-bd.js":3934,"./bn.js":1135,"./bo":3671,"./bo.js":3671,"./br":3875,"./br.js":3875,"./bs":1582,"./bs.js":1582,"./ca":2398,"./ca.js":2398,"./cs":8005,"./cs.js":8005,"./cv":6552,"./cv.js":6552,"./cy":1942,"./cy.js":1942,"./da":5604,"./da.js":5604,"./de":9519,"./de-at":4457,"./de-at.js":4457,"./de-ch":9835,"./de-ch.js":9835,"./de.js":9519,"./dv":4701,"./dv.js":4701,"./el":429,"./el.js":429,"./en-au":4969,"./en-au.js":4969,"./en-ca":5564,"./en-ca.js":5564,"./en-gb":6633,"./en-gb.js":6633,"./en-ie":5205,"./en-ie.js":5205,"./en-il":7287,"./en-il.js":7287,"./en-in":1430,"./en-in.js":1430,"./en-nz":3362,"./en-nz.js":3362,"./en-sg":1651,"./en-sg.js":1651,"./eo":8086,"./eo.js":8086,"./es":6525,"./es-do":9267,"./es-do.js":9267,"./es-mx":1201,"./es-mx.js":1201,"./es-us":2884,"./es-us.js":2884,"./es.js":6525,"./et":3902,"./et.js":3902,"./eu":9753,"./eu.js":9753,"./fa":6767,"./fa.js":6767,"./fi":2351,"./fi.js":2351,"./fil":6436,"./fil.js":6436,"./fo":7216,"./fo.js":7216,"./fr":7438,"./fr-ca":7611,"./fr-ca.js":7611,"./fr-ch":633,"./fr-ch.js":633,"./fr.js":7438,"./fy":4192,"./fy.js":4192,"./ga":2898,"./ga.js":2898,"./gd":5965,"./gd.js":5965,"./gl":4873,"./gl.js":4873,"./gom-deva":4268,"./gom-deva.js":4268,"./gom-latn":228,"./gom-latn.js":228,"./gu":507,"./gu.js":507,"./he":20,"./he.js":20,"./hi":8261,"./hi.js":8261,"./hr":7149,"./hr.js":7149,"./hu":7090,"./hu.js":7090,"./hy-am":7534,"./hy-am.js":7534,"./id":7066,"./id.js":7066,"./is":692,"./is.js":692,"./it":1165,"./it-ch":3266,"./it-ch.js":3266,"./it.js":1165,"./ja":8140,"./ja.js":8140,"./jv":8325,"./jv.js":8325,"./ka":6095,"./ka.js":6095,"./kk":5472,"./kk.js":5472,"./km":635,"./km.js":635,"./kn":8152,"./kn.js":8152,"./ko":971,"./ko.js":971,"./ku":9326,"./ku.js":9326,"./ky":7178,"./ky.js":7178,"./lb":2719,"./lb.js":2719,"./lo":4720,"./lo.js":4720,"./lt":1441,"./lt.js":1441,"./lv":1119,"./lv.js":1119,"./me":373,"./me.js":373,"./mi":1448,"./mi.js":1448,"./mk":9938,"./mk.js":9938,"./ml":7453,"./ml.js":7453,"./mn":4657,"./mn.js":4657,"./mr":7156,"./mr.js":7156,"./ms":6142,"./ms-my":8961,"./ms-my.js":8961,"./ms.js":6142,"./mt":7735,"./mt.js":7735,"./my":972,"./my.js":972,"./nb":863,"./nb.js":863,"./ne":2446,"./ne.js":2446,"./nl":5380,"./nl-be":3734,"./nl-be.js":3734,"./nl.js":5380,"./nn":8733,"./nn.js":8733,"./oc-lnc":6326,"./oc-lnc.js":6326,"./pa-in":6779,"./pa-in.js":6779,"./pl":174,"./pl.js":174,"./pt":6269,"./pt-br":8455,"./pt-br.js":8455,"./pt.js":6269,"./ro":2710,"./ro.js":2710,"./ru":9456,"./ru.js":9456,"./sd":5246,"./sd.js":5246,"./se":2356,"./se.js":2356,"./si":5839,"./si.js":5839,"./sk":1900,"./sk.js":1900,"./sl":4106,"./sl.js":4106,"./sq":9087,"./sq.js":9087,"./sr":413,"./sr-cyrl":5830,"./sr-cyrl.js":5830,"./sr.js":413,"./ss":3277,"./ss.js":3277,"./sv":3338,"./sv.js":3338,"./sw":7999,"./sw.js":7999,"./ta":6294,"./ta.js":6294,"./te":5993,"./te.js":5993,"./tet":5666,"./tet.js":5666,"./tg":3329,"./tg.js":3329,"./th":585,"./th.js":585,"./tk":7695,"./tk.js":7695,"./tl-ph":9151,"./tl-ph.js":9151,"./tlh":8598,"./tlh.js":8598,"./tr":3722,"./tr.js":3722,"./tzl":688,"./tzl.js":688,"./tzm":8662,"./tzm-latn":3037,"./tzm-latn.js":3037,"./tzm.js":8662,"./ug-cn":3400,"./ug-cn.js":3400,"./uk":31,"./uk.js":31,"./ur":9250,"./ur.js":9250,"./uz":7231,"./uz-latn":172,"./uz-latn.js":172,"./uz.js":7231,"./vi":6165,"./vi.js":6165,"./x-pseudo":2341,"./x-pseudo.js":2341,"./yo":2694,"./yo.js":2694,"./zh-cn":8248,"./zh-cn.js":8248,"./zh-hk":824,"./zh-hk.js":824,"./zh-mo":463,"./zh-mo.js":463,"./zh-tw":1916,"./zh-tw.js":1916};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id=6700},8285:function(e,t,a){"use strict";var s=a(5102),n=a(9269);function r(e,t){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(a)}var o=a(7617);const i={},l=(0,o.Z)(i,[["render",r]]);var c=l,u=a(3485),d=a(3201),h=a(6237),j=a(3128);const p=e=>((0,n.dD)("data-v-2dd6bafb"),e=e(),(0,n.Cn)(),e),m={class:"wrap"},w={key:0,class:"icon sun-shower no"},v=p((()=>(0,n._)("div",{class:"cloud"},null,-1))),y=p((()=>(0,n._)("div",{class:"sun"},[(0,n._)("div",{class:"rays"})],-1))),f=[v,y],g={key:1,class:"icon thunder-storm"},b=p((()=>(0,n._)("div",{class:"cloud"},null,-1))),D=p((()=>(0,n._)("div",{class:"lightning"},[(0,n._)("div",{class:"bolt"}),(0,n._)("div",{class:"bolt"})],-1))),k=[b,D],_={key:2,class:"icon cloudy"},z=p((()=>(0,n._)("div",{class:"cloud"},null,-1))),I=p((()=>(0,n._)("div",{class:"cloud"},null,-1))),x=[z,I],O={key:3,class:"icon flurries"},S=p((()=>(0,n._)("div",{class:"cloud"},null,-1))),W=p((()=>(0,n._)("div",{class:"snow"},[(0,n._)("div",{class:"flake"}),(0,n._)("div",{class:"flake"})],-1))),q=[S,W],U={key:4,class:"icon sunny"},L=p((()=>(0,n._)("div",{class:"sun"},[(0,n._)("div",{class:"rays"})],-1))),T=[L],C={key:5,class:"icon rainy"},H=p((()=>(0,n._)("div",{class:"cloud"},null,-1))),Z=p((()=>(0,n._)("div",{class:"rain"},null,-1))),A=[H,Z];var P={name:"icon",props:{iconType:String},setup(e){return(t,a)=>((0,n.wg)(),(0,n.iD)("div",m,["no"===e.iconType?((0,n.wg)(),(0,n.iD)("div",w,f)):(0,n.kq)("",!0),"Extreme"===e.iconType?((0,n.wg)(),(0,n.iD)("div",g,k)):(0,n.kq)("",!0),"Clouds"===e.iconType?((0,n.wg)(),(0,n.iD)("div",_,x)):(0,n.kq)("",!0),"Snow"===e.iconType?((0,n.wg)(),(0,n.iD)("div",O,q)):(0,n.kq)("",!0),"Clear"===e.iconType?((0,n.wg)(),(0,n.iD)("div",U,T)):(0,n.kq)("",!0),"Rain"===e.iconType?((0,n.wg)(),(0,n.iD)("div",C,A)):(0,n.kq)("",!0)]))}};const E=(0,o.Z)(P,[["__scopeId","data-v-2dd6bafb"]]);var M=E;const G=e=>{switch(e){case 0:return"00:00";case 1:return"03:00";case 2:return"06:00";case 3:return"09:00";case 4:return"12:00";case 5:return"15:00";case 6:return"18:00";case 7:return"21:00";case 8:return"24:00";default:return"00:00"}};var K=a(5538),$=a.n(K);const F={class:"weather-card-item"},V={key:0},R={key:1},Y={key:2};var N={name:"weather-card-item",props:{weather:Object,index:Number},setup(e){return(t,a)=>((0,n.wg)(),(0,n.iD)("div",F,[e.weather?.isEmpty?((0,n.wg)(),(0,n.iD)("h5",R,(0,d.zw)((0,h.SU)(G)(e.index)),1)):((0,n.wg)(),(0,n.iD)("h5",V,(0,d.zw)((0,h.SU)($())(e.weather.dt_txt).format(" HH:mm ")),1)),(0,n.Wm)((0,h.SU)(M),{iconType:e.weather.weather?e.weather.weather[0].main:"no"},null,8,["iconType"]),e.weather?.main?.temp?((0,n.wg)(),(0,n.iD)("h4",Y,(0,d.zw)(Math.round(e.weather.main.temp))+" °C",1)):(0,n.kq)("",!0)]))}};const Q=N;var B=Q;const J={class:"weather_card-wraps"},X={class:"week-day"},ee={class:"weather-card"};var te={name:"weather-card",props:{weatherDataInDay:Object},setup(e){return(t,a)=>((0,n.wg)(),(0,n.iD)("div",J,[(0,n._)("h2",X,(0,d.zw)((0,h.SU)($())(e.weatherDataInDay[0].dt_txt).locale("ru").format("dddd")),1),(0,n._)("div",ee,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.weatherDataInDay,((e,t)=>((0,n.wg)(),(0,n.j4)((0,h.SU)(B),{weather:e,index:t},null,8,["weather","index"])))),256))])]))}};const ae=(0,o.Z)(te,[["__scopeId","data-v-7248d496"]]);var se=ae,ne=(a(3413),a(6085)),re=a.n(ne),oe={apiKeyGeo:"a721c36e-52ae-428b-812f-a1fbc2b21da1",geoApi:"https://geocode-maps.yandex.ru/1.x/",apiKeyWeather:"31d8cd5bb9c6aec41d284a3c7b901c23",weatherApi:"http://api.openweathermap.org/data/2.5/forecast"};const ie=async e=>{const t=e.value.search;if(!(t.length>2))return[];try{const{data:e}=await re().get(oe.geoApi,{params:{apikey:oe.apiKeyGeo,format:"json",geocode:t}}),a=e?e.response.GeoObjectCollection.featureMember.map((e=>({...e,label:`${e.GeoObject.name}, ${e.GeoObject.description}`}))):[];return a}catch(a){throw new Error("ошибка получения геокодинга")}},le=(0,n._)("span",null," ВВедите минимум три символа, либо попробуйте изменить запрос ",-1),ce=(0,n._)("span",null," ВВедите минимум три символа, либо попробуйте изменить запрос ",-1),ue={key:0,class:"multiselect__single"};var de={name:"select-component",setup(e){const t=(0,h.iH)(null),a=(0,h.iH)(!1),s=(0,h.iH)([]),r=async()=>{try{a.value=!0,s.value=await ie(t)}catch(e){alert("Ошибка получения опций(гео)")}finally{a.value=!1}},o=()=>{s.value=[]};return(e,i)=>((0,n.wg)(),(0,n.j4)((0,h.SU)(j.ZP),{loading:a.value,style:{width:"1300px"},ref_key:"Multiselect",ref:t,options:s.value,onKeyup:r,label:"label",onClose:o},{noResult:(0,n.w5)((()=>[le])),noOptions:(0,n.w5)((()=>[ce])),selection:(0,n.w5)((({values:e,isOpen:t})=>[e.length&&!t?((0,n.wg)(),(0,n.iD)("span",ue,(0,d.zw)(e.length)+" options selected ",1)):(0,n.kq)("",!0)])),_:1},8,["loading","options"]))}};const he=de;var je=he;var pe=a(4890);pe.O9,pe.Pp;a(7120);const me={class:"q-pa-md"},we={class:"q-gutter-md"};var ve={name:"app-carousel-quasar",props:{weatherDataInDays:Array},setup(e){const t=e,a=(0,u.yj)(),{slide:s}=a.query,r=t.weatherDataInDays.some((e=>$()(e[0].dt_txt).format("L")===s)),o=r?s:$()(t.weatherDataInDays[0][0]).format("L"),i=(0,h.iH)(o);return(0,n.YP)(i,(e=>{let t=window.location.hash;if(t.includes("&slide=")){const e=window.location.hash.split("&"),a=e.findIndex((e=>e.includes("slide")));e.splice(a,1),t=e.join("&")}window.history.pushState("lat-lon","lat-lon",`${t}&slide=${e}`)})),(t,a)=>{const s=(0,n.up)("q-carousel-slide"),r=(0,n.up)("q-carousel");return(0,n.wg)(),(0,n.iD)("div",me,[(0,n._)("div",we,[(0,n.Wm)(r,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),"transition-prev":"jump-right","transition-next":"jump-left",swipeable:"",animated:"","control-color":"white",navigation:"",padding:"",arrows:"",height:"500px",class:"carousel"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.weatherDataInDays,((e,t)=>((0,n.wg)(),(0,n.j4)(s,{key:t,name:(0,h.SU)($())(e[0].dt_txt).format("L"),class:"column no-wrap flex-center"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,h.SU)(se),{weatherDataInDay:e},null,8,["weatherDataInDay"])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])])}}},ye=a(514),fe=a(3477),ge=a(1410),be=a.n(ge);const De=(0,o.Z)(ve,[["__scopeId","data-v-ebf7c81e"]]);var ke=De;be()(ve,"components",{QCarousel:ye.Z,QCarouselSlide:fe.Z});var _e=a(6957);const ze=e=>{const t=(0,h.iH)(null);function a(){if(e.value?.city?.timezone){const t=(60*(new Date).getTimezoneOffset()+e.value?.city?.timezone)/3600,a=new Date(Date.now()+t);return $()(a).add(t,"hours").format(" HH:mm:ss")}return $()(new Date).format(" HH:mm:ss")}const s=setInterval((()=>t.value=a()),1e3);return{time:t,timeInterval:s}},Ie=e=>((0,n.dD)("data-v-72b33aa0"),e=e(),(0,n.Cn)(),e),xe={class:"about"},Oe=Ie((()=>(0,n._)("h1",{class:"title"},"Погода",-1))),Se={class:"time"},We={key:0,class:"carousel"},qe={key:1,class:"spinner"};var Ue={name:"main-view",setup(e){(0,n.wF)((()=>{const e=(0,u.yj)(),t=(0,_e.oR)(),{lon:a,lat:s}=e.query;a&&s&&t.dispatch("weather/getWeather",{lon:a,lat:s})}));const t=(0,_e.oR)(),a=(0,u.yj)(),{city:s}=a.query,r=s?{label:s,GeoObject:{}}:null,o=(0,h.iH)(r),i=(0,n.Fl)((()=>t.getters["weather/weather"])),l=(0,n.Fl)((()=>t.getters["weather/weatherDataInDays"])),c=(0,n.Fl)((()=>t.getters["weather/isWeatherLoading"]));(0,n.YP)(o,(async e=>{if(e){const[a,s]=e.GeoObject.Point.pos.split(" ");window.history.pushState("lat-lon","lat-lon",`#/weather?lat=${s}&lon=${a}&city=${e.label}`),await t.dispatch("weather/getWeather",{lon:a,lat:s})}}));const{time:j,timeInterval:p}=ze(i);return(0,n.Ah)((()=>clearInterval(p))),(e,t)=>{const a=(0,n.up)("q-spinner-ios");return(0,n.wg)(),(0,n.iD)("div",xe,[Oe,(0,n._)("h4",Se," местное время: "+(0,d.zw)((0,h.SU)(j)),1),(0,n.Wm)((0,h.SU)(je),{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e)},null,8,["modelValue"]),(0,h.SU)(l)?((0,n.wg)(),(0,n.iD)("div",We,[(0,h.SU)(c)?((0,n.wg)(),(0,n.iD)("div",qe,[(0,n.Wm)(a,{color:"#f9f9f9",size:"100px"})])):((0,n.wg)(),(0,n.j4)((0,h.SU)(ke),{key:0,weatherDataInDays:(0,h.SU)(l)},null,8,["weatherDataInDays"]))])):(0,n.kq)("",!0)])}}},Le=a(9039);const Te=(0,o.Z)(Ue,[["__scopeId","data-v-72b33aa0"]]);var Ce=Te;be()(Ue,"components",{QSpinnerIos:Le.Z});const He=(0,n._)("h1",null," 404 ",-1),Ze=(0,n._)("h1",null," Страница не найдена ",-1);function Ae(e,t,a,s,r,o){return(0,n.wg)(),(0,n.iD)(n.HY,null,[He,Ze],64)}var Pe={setup(){},components:{}};const Ee=(0,o.Z)(Pe,[["render",Ae]]);var Me=Ee;const Ge=[{path:"/weather:any(.*)",name:"weather",component:Ce},{path:"/",name:"home",redirect:"/weather"},{path:"/:any(.*)",name:"404",component:Me}],Ke=(0,u.p7)({history:(0,u.r5)(),routes:Ge});var $e=Ke;const Fe=(e,t)=>{const a=Array.from(new Set(e.list.map((e=>$()(e.dt_txt).format("L"))))),s=a.reduce(((s,n,r)=>{let o=e.list.filter((e=>$()(e.dt_txt).format("L")===n));if(0===r&&o.length<t){const e={dt_txt:n,isEmpty:!0};o=Array(t-o.length).fill(e).concat(o)}if(r===a.length-1&&o.length<t){const e={dt_txt:n,isEmpty:!0};o=o.concat(Array(t-o.length).fill(e))}return s.push(o),s}),[]);return s},Ve=re().create({baseURL:oe.weatherApi,withCredentials:!1,headers:{"Access-Control-Allow-Credentials":"*","Content-Type":"application/json"}}),Re=8;var Ye={namespaced:!0,state(){return{weather:null,weatherDataInDays:null,isWeatherLoading:!1}},mutations:{setWeather(e,t){e.weather=t.weather},setWeatherDataInDays(e,t){e.weatherDataInDays=t.weatherDataInDays},setIsWeatherLoading(e,t){e.isWeatherLoading=t.isWeatherLoading}},actions:{async getWeather({commit:e,dispatch:t},a){try{e("setIsWeatherLoading",{isWeatherLoading:!0});const{data:t}=await Ve.get("/",{params:{appid:oe.apiKeyWeather,lat:a.lat,lon:a.lon,units:"metric",lang:"ru"}}),s=Fe(t,Re);e("setWeather",{weather:t}),e("setWeatherDataInDays",{weatherDataInDays:s})}catch(s){alert("ошибка получения погоды")}finally{e("setIsWeatherLoading",{isWeatherLoading:!1})}}},getters:{weather(e){return e.weather},weatherDataInDays(e){return e.weatherDataInDays},isWeatherLoading(e){return e.isWeatherLoading}}},Ne=(0,_e.MT)({state:{},getters:{},mutations:{},actions:{},modules:{weather:Ye},strict:!1}),Qe=a(6239),Be={config:{},plugins:{}};(0,s.ri)(c).use(Qe.Z,Be).use(Ne).use($e).use(pe.ZP).mount("#app")}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,r){if(!s){var o=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],r=e[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,n,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,r,o=s[0],i=s[1],l=s[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var u=l(a)}for(t&&t(s);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},s=self["webpackChunkvue_ipr"]=self["webpackChunkvue_ipr"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8285)}));s=a.O(s)})();
//# sourceMappingURL=app.8a1fb0c6.js.map